# Godot MCP Server Implementation Bug

## Problem

The synthesized Godot implementation (unanimous triplet approval, correlation_id: 1c281d80) uses a non-existent Python library `mcp-tools-py`. During Docker build:

```
ERROR: Could not find a version that satisfies the requirement mcp-tools-py>=0.4.0 (from versions: none)
ERROR: No matching distribution found for mcp-tools-py>=0.4.0
```

## Current Code (Generated by Triplets)

**src/mcp_server.py** uses:
```python
from mcp_tools.mcp_server import MCPServer
from mcp_tools.mcp_client import MCPClient
```

**src/worker.py** likely uses:
```python
from mcp_tools.mcp_client import MCPClient  # To connect to Dewey
```

## Available Libraries

- `websockets>=14.0` (standard Python WebSocket library)
- No official MCP Python SDK exists on PyPI

## Working ICCM Examples

All existing ICCM MCP servers implement WebSocket protocol directly:

1. **Dewey** (`/mnt/projects/ICCM/dewey/dewey/mcp_server.py`) - Python asyncio + websockets
2. **Fiedler** (`/mnt/projects/ICCM/fiedler/fiedler/server.py`) - Python asyncio + websockets  
3. **Gates** (`/mnt/projects/ICCM/gates/server.js`) - Node.js WebSocket server
4. **Marco** (`/mnt/projects/ICCM/marco/server.js`) - Node.js WebSocket server
5. **Playfair** (`/mnt/projects/ICCM/playfair/server.js`) - Node.js WebSocket server

## Godot-Specific Requirements

1. **MCP Facade Server** (port 9060):
   - Exposes 4 tools: logger_log, logger_query, logger_clear, logger_set_level
   - `logger_log` → pushes to local Redis queue
   - Other tools → proxy to Dewey MCP server

2. **Worker Process** (background):
   - Connects to Dewey MCP as **client** (not server)
   - Polls Redis queue
   - Calls `dewey_store_logs_batch` via MCP

3. **Single Container**:
   - Supervisord manages both processes
   - Both need to work independently

## Question

How should we implement Godot's MCP server and MCP client using only `websockets` library?

**Option A:** Copy Dewey's MCP server pattern for facade, implement simple MCP client for worker
**Option B:** Use stdio-to-WebSocket bridge (like MCP Relay) 
**Option C:** Different approach?

Please provide:
1. Recommended architecture
2. Code structure for `mcp_server.py` (facade server)
3. Code structure for `worker.py` (MCP client to Dewey)
4. Any changes needed to Dockerfile/supervisord.conf

**Critical:** Must maintain all requirements from approved synthesis (REQ-GOD-004, REQ-GOD-005, etc.)
